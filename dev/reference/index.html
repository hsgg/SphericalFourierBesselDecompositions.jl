<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · SphericalFourierBesselDecompositions.jl</title><link rel="canonical" href="https://hsgg.github.io/SphericalFourierBesselDecompositions.jl/reference/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="SphericalFourierBesselDecompositions.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">SphericalFourierBesselDecompositions.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial_catalog/">Tutorial: Catalogue and Window</a></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#SFB"><span>SFB</span></a></li><li><a class="tocitem" href="#SFB.GNL"><span>SFB.GNL</span></a></li><li><a class="tocitem" href="#SFB.Modes"><span>SFB.Modes</span></a></li><li><a class="tocitem" href="#SFB.SeparableArrays"><span>SFB.SeparableArrays</span></a></li><li><a class="tocitem" href="#SFB.Cat2Anlm"><span>SFB.Cat2Anlm</span></a></li><li><a class="tocitem" href="#SFB.WindowChains"><span>SFB.WindowChains</span></a></li></ul></li><li><a class="tocitem" href="../myindex/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/master/docs/src/reference.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><p>The functions in here are exported into the main module. We will often assume that the user has defined the shortcut to the module:</p><pre><code class="language-julia">SFB = SphericalFourierBesselDecompositions</code></pre><p>Then, all functions can be called via <code>SFB.funcname()</code>. For example, the <code>SFB.GNL.SphericalBesselGnl()</code> constructor in the <code>SFB.GNL</code> module is called via <code>SFB.SphericalBesselGnl()</code>.</p><ul><li><a href="#Reference">Reference</a></li><ul><li><a href="#SFB">SFB</a></li><li><a href="#SFB.GNL">SFB.GNL</a></li><li><a href="#SFB.Modes">SFB.Modes</a></li><li><a href="#SFB.SeparableArrays">SFB.SeparableArrays</a></li><li><a href="#SFB.Cat2Anlm">SFB.Cat2Anlm</a></li><li><a href="#SFB.WindowChains">SFB.WindowChains</a></li></ul></ul><h2 id="SFB"><a class="docs-heading-anchor" href="#SFB">SFB</a><a id="SFB-1"></a><a class="docs-heading-anchor-permalink" href="#SFB" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.calc_fsky-Tuple{Any, Any}" href="#SphericalFourierBesselDecompositions.calc_fsky-Tuple{Any, Any}"><code>SphericalFourierBesselDecompositions.calc_fsky</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">calc_fsky(win, wmodes)</code></pre><p>This functions returns a measure of the sky fraction covered by the survey with window <code>win</code>. The exact implementation is considered an implementation detail and can change in the future.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/SphericalFourierBesselDecompositions.jl#L318-L324">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.pixwin-Tuple{Any}" href="#SphericalFourierBesselDecompositions.pixwin-Tuple{Any}"><code>SphericalFourierBesselDecompositions.pixwin</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">pixwin(cmodes)

Return the angular pixel window for application to a Clnn object.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/SphericalFourierBesselDecompositions.jl#L147-L151">source</a></section></article><h2 id="SFB.GNL"><a class="docs-heading-anchor" href="#SFB.GNL">SFB.GNL</a><a id="SFB.GNL-1"></a><a class="docs-heading-anchor-permalink" href="#SFB.GNL" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.GNL.SphericalBesselGnl-NTuple{4, Any}" href="#SphericalFourierBesselDecompositions.GNL.SphericalBesselGnl-NTuple{4, Any}"><code>SphericalFourierBesselDecompositions.GNL.SphericalBesselGnl</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">SphericalBesselGnl(nmax, lmax, rmin, rmax)
SphericalBesselGnl(kmax, rmin, rmax)</code></pre><p>Generate <code>gnl(n,l,r)</code>. Returns a struct that can be called for calculating <code>gnl</code>. Note that the last argument is <code>r</code>, <em>not</em> <code>kr</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/gnl.jl#L407-L413">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.GNL.calc_first_n_zeros-Tuple{Any, Any}" href="#SphericalFourierBesselDecompositions.GNL.calc_first_n_zeros-Tuple{Any, Any}"><code>SphericalFourierBesselDecompositions.GNL.calc_first_n_zeros</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">calc_first_n_zeros(func, nmax; δ=π/20, xmin=0.0)</code></pre><p>Calculate the first <code>nmax</code> zeros of the function <code>func</code>. Assumes that zeros are spaced more than <code>δ</code> apart. First zero could be <code>xmin</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/gnl.jl#L175-L180">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.GNL.calc_knl_potential-NTuple{4, Any}" href="#SphericalFourierBesselDecompositions.GNL.calc_knl_potential-NTuple{4, Any}"><code>SphericalFourierBesselDecompositions.GNL.calc_knl_potential</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">calc_knl_potential(nmax, lmax, rmin, rmax)
calc_knl_potential(kmax, rmin, rmax)</code></pre><p>Calculate the <code>knl</code> for potential boundary conditions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/gnl.jl#L237-L242">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.GNL.calc_zeros-Tuple{Any, Any, Any}" href="#SphericalFourierBesselDecompositions.GNL.calc_zeros-Tuple{Any, Any, Any}"><code>SphericalFourierBesselDecompositions.GNL.calc_zeros</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">calc_zeros(func, xmin, xmax; δ=π/20)</code></pre><p>Calculate all zeros of the function <code>func</code> between <code>xmin</code> and <code>xmax</code>. Assumes that zeros are spaced more than <code>δ</code> apart.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/gnl.jl#L197-L202">source</a></section></article><h2 id="SFB.Modes"><a class="docs-heading-anchor" href="#SFB.Modes">SFB.Modes</a><a id="SFB.Modes-1"></a><a class="docs-heading-anchor-permalink" href="#SFB.Modes" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.Modes.AnlmModes" href="#SphericalFourierBesselDecompositions.Modes.AnlmModes"><code>SphericalFourierBesselDecompositions.Modes.AnlmModes</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">AnlmModes</code></pre><p>This is where we define which modes are included. As our criterium, we set a maximum qmax = kmax * rmax, and we include all modes below that.</p><p>The modes are arranged in the following order. The fastest loop is through &#39;m&#39;, then &#39;l&#39;, finally &#39;n&#39;, from small number to larger number. We restrict &#39;m&#39; to m &gt; 0, and we assume a real field.</p><p>Example:</p><pre><code class="language-julia-repl">julia&gt; kmax = 0.2
julia&gt; rmax = 1000.0
julia&gt; modes = AnlmModes(kmax * rmax)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/modes.jl#L74-L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.Modes.ClnnModes" href="#SphericalFourierBesselDecompositions.Modes.ClnnModes"><code>SphericalFourierBesselDecompositions.Modes.ClnnModes</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ClnnModes(::AnlmModes)</code></pre><p>This is where we define which modes are included in the power spectrum, given a <code>AnlmModes</code> struct.</p><p>The modes are arranged in the following order. The fastest loop is through &#39;n̄&#39;, then &#39;Δn&#39;, finally &#39;ℓ&#39;, from small number to larger number.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/modes.jl#L207-L215">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.Modes.getlkk-Tuple{SphericalFourierBesselDecompositions.Modes.ClnnModes, Any}" href="#SphericalFourierBesselDecompositions.Modes.getlkk-Tuple{SphericalFourierBesselDecompositions.Modes.ClnnModes, Any}"><code>SphericalFourierBesselDecompositions.Modes.getlkk</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">getlkk(::ClnnModes, [i])
getlkk(::ClnnBinnedModes, [i])</code></pre><p>Get the physical modes ℓ, k, and k&#39; corresponding to the index <code>i</code>. If <code>i</code> is left out, an array <code>lkk</code> of all modes is returned so that <code>lkk[1,:]</code> are all the ℓ-values, <code>lkk[2,:]</code> all the k-values, and <code>lkk[3,:]</code> are all the k&#39;-values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/modes.jl#L338-L346">source</a></section></article><h2 id="SFB.SeparableArrays"><a class="docs-heading-anchor" href="#SFB.SeparableArrays">SFB.SeparableArrays</a><a id="SFB.SeparableArrays-1"></a><a class="docs-heading-anchor-permalink" href="#SFB.SeparableArrays" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.SeparableArrays.exponentiate-Tuple{SphericalFourierBesselDecompositions.SeparableArrays.SeparableArray, Number}" href="#SphericalFourierBesselDecompositions.SeparableArrays.exponentiate-Tuple{SphericalFourierBesselDecompositions.SeparableArrays.SeparableArray, Number}"><code>SphericalFourierBesselDecompositions.SeparableArrays.exponentiate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">exponentiate(s::SeparableArray, exp::Number)</code></pre><p>This function is used for elementwise exponentiation of the array &#39;s&#39;. It could be made more elegant by extending the broadcast syntax. PRs welcome.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/SeparableArrays.jl#L135-L140">source</a></section></article><h2 id="SFB.Cat2Anlm"><a class="docs-heading-anchor" href="#SFB.Cat2Anlm">SFB.Cat2Anlm</a><a id="SFB.Cat2Anlm-1"></a><a class="docs-heading-anchor-permalink" href="#SFB.Cat2Anlm" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.Cat2Anlm.cat2amln-NTuple{4, Any}" href="#SphericalFourierBesselDecompositions.Cat2Anlm.cat2amln-NTuple{4, Any}"><code>SphericalFourierBesselDecompositions.Cat2Anlm.cat2amln</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">cat2amln(rθϕ, amodes, nbar, win_rhat_ln)</code></pre><p>Computes the spherical Fourier-Bessel decomposition coefficients from a catalogue of sources. The number density is measured from the survey as <span>$\bar n = N_\mathrm{gals} / V_\mathrm{eff}$</span>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using SphericalFourierBesselDecompositions
julia&gt; cat2amln(rθϕ, ...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/cat2anlm.jl#L188-L200">source</a></section></article><h2 id="SFB.WindowChains"><a class="docs-heading-anchor" href="#SFB.WindowChains">SFB.WindowChains</a><a id="SFB.WindowChains-1"></a><a class="docs-heading-anchor-permalink" href="#SFB.WindowChains" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.WindowChains" href="#SphericalFourierBesselDecompositions.WindowChains"><code>SphericalFourierBesselDecompositions.WindowChains</code></a> — <span class="docstring-category">Module</span></header><section><div><pre><code class="language-julia">WindowChains</code></pre><p>This module exposes several ways to calculate a chain of window functions. All require a cache to be created that speeds up subsequent calls. The type of cache determines which method is used.</p><p>To create the cache, simply call one of</p><pre><code class="language-none">julia&gt; cache = SFB.WindowChains.WindowChainsCacheWignerChain(win, wmodes, amodes)
julia&gt; cache = SFB.WindowChains.WindowChainsCacheFullWmix(win, wmodes, amodes)
julia&gt; cache = SFB.WindowChains.WindowChainsCacheFullWmixOntheflyWmix(win, wmodes, amodes)
julia&gt; cache = SFB.WindowChains.WindowChainsCacheSeparableWmix(win, wmodes, amodes)
julia&gt; cache = SFB.WindowChains.WindowChainsCacheSeparableWmixOntheflyWlmlm(win, wmodes, amodes)
julia&gt; cache = SFB.WindowChainsCache(win, wmodes, amodes)</code></pre><p>The last one will automatically select the typically fastest algorithm.</p><p>Then to calculate an element of a chain of windows, use <code>window_chain(ell, n1, n2, cache)</code>. For example, for a chain of four windows,</p><pre><code class="language-none">julia&gt; ell = [0, 1, 2, 3]
julia&gt; n1 = [1, 2, 3, 4]
julia&gt; n2 = [5, 6, 7, 8]
julia&gt; Wk = SFB.window_chain(ell, n1, n2, cache)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/window_chains.jl#L31-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SphericalFourierBesselDecompositions.WindowChains.window_chain-NTuple{5, Any}" href="#SphericalFourierBesselDecompositions.WindowChains.window_chain-NTuple{5, Any}"><code>SphericalFourierBesselDecompositions.WindowChains.window_chain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">window_chain(ell, n1, n2, cache, symmetries)</code></pre><p>This version adds up several window chains taking into account the <code>symmetries</code>. <code>symmetries</code> is an array of pairs of numbers specifying the symmetries to consider. Each pair specifies the <code>ℓnn′</code> index and the type of symmetry. For example, when <code>k≥3</code>, then <code>symmetries = [1=&gt;0, 2=&gt;1, 3=&gt;2]</code> would specify that no symmetries are taken into account for the first <code>lnn′</code> combination, the second symmetry will flip <code>n</code> and <code>n′</code> and add the result only when <code>n ≠ n′</code>, and the third will add the result regardless whether the <code>n</code> equal or not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hsgg/SphericalFourierBesselDecompositions.jl/blob/295cdc5288e9912bb0ff818edd45c5b9b2d76bee/src/window_chains.jl#L274-L285">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial_catalog/">« Tutorial: Catalogue and Window</a><a class="docs-footer-nextpage" href="../myindex/">Index »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 18 September 2021 22:16">Saturday 18 September 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
